{#include file="_header.html"#}
<link href="ADMIN_PUBLIC/css/style.css" rel="stylesheet" type="text/css" />
<link href="ADMIN_PUBLIC/lib/icheck/icheck.css" rel="stylesheet" type="text/css" />
<title>新建管理员角色</title>
</head>
<body>
	<div class="pd-20">
		<form action="" method="post" class="form form-horizontal" id="form-admin-role-add">
			<div class="row cl">
				<label class="form-label col-2"><span class="c-red">*</span>角色ID：</label>
				<div class="formControls col-5">
					<input type="text" class="input-text" value="{#$role_id#}" id="roleid" name="roleid" datatype="n1-2" readonly="readonly" nullmsg="角色ID不能为空">
				</div>
				<div class="col-4"> </div>
			</div>
			<div class="row cl">
				<label class="form-label col-2"><span class="c-red">*</span>角色名称：</label>
				<div class="formControls col-5">
					<input type="text" class="input-text" value="" placeholder="请输入角色名称" id="rolename" name="rolename" datatype="*1-16" nullmsg="角色名称不能为空">
				</div>
				<div class="col-4"> </div>
			</div>
			<div class="row cl">
				<label class="form-label col-2"><span class="c-red">*</span>角色别名：</label>
				<div class="formControls col-5">
					<input type="text" class="input-text" value="" placeholder="请输入角色别名(使用英文)" id="rolealias" name="rolealias" datatype="s1-20" nullmsg="角色名称不能为空" errorMsg>
				</div>
				<div class="col-4"> </div>
			</div>
			<div class="row cl">
				<label class="form-label col-2">描述：</label>
				<div class="formControls col-6">
					<textarea name="description" cols="" rows="" class="textarea"  placeholder="请在这里输入该角色的描述信息。" dragonfly="true" onKeyUp="textarealength(this,100)"></textarea>
					<p class="textarea-numberbar"><em class="textarea-length">0</em>/100</p>
				</div>
				<div class="col-4"> </div>
			</div>
			<!-- <div class="row cl">
				<label class="form-label col-2">网站角色：</label>
				<div class="formControls col-10">
					<dl class="permission-list">
						<dt><label><input type="checkbox" value="" name="user-Character-0" id="user-Character-0">资讯管理</label></dt>
						<dd>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-0-0" id="user-Character-0-0">文章管理</label></dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-0-0-0" id="user-Character-0-0-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-0-0" id="user-Character-0-0-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-0-0" id="user-Character-0-0-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-0-0" id="user-Character-0-0-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-0-0" id="user-Character-0-0-4">审核</label>
									<label class="c-orange"><input type="checkbox" value="" name="user-Character-0-0-0" id="user-Character-0-0-5"> 只能操作自己发布的</label>
								</dd>
							</dl>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-0-1" id="user-Character-0-1">图片管理</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-4">审核</label>
									<label class="c-orange"><input type="checkbox" value="" name="user-Character-0-2-0" id="user-Character-0-2-5"> 只能操作自己发布的</label>
								</dd>
							</dl>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-0-1" id="user-Character-0-1">广告管理</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-4">审核</label>
									<label class="c-orange"><input type="checkbox" value="" name="user-Character-0-2-0" id="user-Character-0-2-5"> 只能操作自己发布的</label>
								</dd>
							</dl>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-0-1" id="user-Character-0-1">页面管理</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-4">审核</label>
									<label class="c-orange"><input type="checkbox" value="" name="user-Character-0-2-0" id="user-Character-0-2-5"> 只能操作自己发布的</label>
								</dd>
							</dl>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-0-1" id="user-Character-0-1">评论管理</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-0-1-0" id="user-Character-0-1-4">审核</label>
									<label class="c-orange"><input type="checkbox" value="" name="user-Character-0-2-0" id="user-Character-0-2-5"> 只能操作自己发布的</label>
								</dd>
							</dl>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-1-0" id="user-Character-1-0">信息统计</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-4">审核</label>
								</dd>
							</dl>
						</dd>
					</dl>
					<dl class="permission-list">
						<dt><label><input type="checkbox" value="" name="user-Character-0" id="user-Character-1">用户控制中心</label>
						</dt>
						<dd>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-1-0" id="user-Character-1-0">会员管理</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-4">审核</label>
								</dd>
							</dl>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-1-0" id="user-Character-1-0">管理员管理</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-4">审核</label>
								</dd>
							</dl>
						</dd>
					</dl>
					<dl class="permission-list">
						<dt><label><input type="checkbox" value="" name="user-Character-0" id="user-Character-1">系统控制中心</label>
						</dt>
						<dd>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-1-0" id="user-Character-1-0">系统管理</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-4">审核</label>
								</dd>
							</dl>
						</dd>
					</dl>
					<dl class="permission-list">
						<dt><label><input type="checkbox" value="" name="user-Character-0" id="user-Character-1">财务结算中心</label>
						</dt>
						<dd>
							<dl class="cl permission-list2">
								<dt><label class=""><input type="checkbox" value="" name="user-Character-1-0" id="user-Character-1-0">财务管理</label>
								</dt>
								<dd><label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-0">添加</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-1">修改</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-2">删除</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-3">查看</label>
									<label class=""><input type="checkbox" value="" name="user-Character-1-0-0" id="user-Character-1-0-4">审核</label>
								</dd>
							</dl>
						</dd>
					</dl>
				</div>
			</div> -->
			<div class="row cl">
				<div class="col-10 col-offset-2">
					<button type="submit" class="btn btn-success radius" id="admin-role-save" name="admin-role-save"><i class="icon-ok"></i> 提交</button>
				</div>
			</div>
		</form>
	</div>
	{#include file="_footer.html"#}
	<script type="text/javascript" src="ADMIN_PUBLIC/lib/laypage/1.2/laypage.js"></script>
	<script type="text/javascript" src="ADMIN_PUBLIC/lib/My97DatePicker/WdatePicker.js"></script>
	<script>
		$(function(){
			$(".permission-list dt input:checkbox").click(function(){
				$(this).closest("dl").find("dd input:checkbox").prop("checked",$(this).prop("checked"));
			});
			$(".permission-list2 dd input:checkbox").click(function(){
				var l =$(this).parent().parent().find("input:checked").length;
				var l2=$(this).parents(".permission-list").find(".permission-list2 dd").find("input:checked").length;
				if($(this).prop("checked")){
					$(this).closest("dl").find("dt input:checkbox").prop("checked",true);
					$(this).parents(".permission-list").find("dt").first().find("input:checkbox").prop("checked",true);
				}
				else{
					if(l==0){
						$(this).closest("dl").find("dt input:checkbox").prop("checked",false);
					}
					if(l2==0){
						$(this).parents(".permission-list").find("dt").first().find("input:checkbox").prop("checked",false);
					}
				}
			});

			/**
			 * 初始化Validform，添加角色表单
			 */
			$("#form-admin-role-add").Validform({
				tiptype:2, //input tip.
				ajaxPost:true,
				callback:function(data){
					if (data.status=='y') {
						layer.msg(data.info, {icon: 1,time:2000}, function(){
							parent.location.reload();//reload parent page.
							var index = parent.layer.getFrameIndex(window.name);
							parent.$('.btn-refresh').click();
							parent.layer.close(index);
						});
					}else if(data.status=='n'){
						layer.msg(data.info,{icon:2,time:2000}, function(){
							parent.location.reload();//reload parent page.
							var index = parent.layer.getFrameIndex(window.name);
							parent.$('.btn-refresh').click();
							parent.layer.close(index);
						});
					}else{
						layer.msg(data.info,{icon:5,time:2000}, function(){
							parent.location.reload();//reload parent page.
							var index = parent.layer.getFrameIndex(window.name);
							parent.$('.btn-refresh').click();
							parent.layer.close(index);
						});
					}
				}
			});
		});
	</script>
</body>
</html>